{% extends "base.html" %}
{% block title %}Lista de Materias{% endblock %}
{% block content %}
<div class="content-box">
  <h1 class="mb-4"><i class="bi bi-journals"></i> Materias</h1>
  {% if messages %}
    {% for message in messages %}
      <div class="alert alert-{{ message.tags }}">{{ message }}</div>
    {% endfor %}
  {% endif %}
  <a href="{% url 'cursos:crear_materia' %}" class="btn btn-primary mb-3">
    <i class="bi bi-plus-circle"></i> Crear nueva materia
  </a>
  <ul class="list-group">
    {% for materia in materias %}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        <div>
          <strong>{{ materia.nombre }}</strong> 
          <span class="badge bg-info text-dark ms-2">Curso: {{ materia.curso.nombre }}</span>
        </div>
        <div>
          <a href="{% url 'cursos:editar_materia' materia.id %}" class="btn btn-warning btn-sm me-2">
            <i class="bi bi-pencil"></i> Editar
          </a>
          <a href="{% url 'cursos:eliminar_materia' materia.id %}" class="btn btn-danger btn-sm">
            <i class="bi bi-trash"></i> Eliminar
          </a>
        </div>
      </li>
    {% empty %}
      <li class="list-group-item text-center text-muted">No hay materias registradas.</li>
    {% endfor %}
  </ul>
  <a href="{% url 'cursos:listar_cursos' %}" class="btn btn-secondary mt-3">Volver a Cursos</a>
</div>
{% endblock %}
